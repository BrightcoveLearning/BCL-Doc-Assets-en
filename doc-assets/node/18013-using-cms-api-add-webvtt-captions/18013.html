<article class="bcls-article">
<section class="bcls-section">
<h2 id="Introduction">Introduction</h2>

<p>WebVTT captions cannot be added when you initially create the video using a POST request. Instead they must be added using a PATCH request to update the video metadata. See the <a href="/node/18031">CMS API Sample: Update Videos</a> for an example of an update request.</p>
</section>

<section id="Remote_or_ingested" class="bcls-section">
<h2>Remote or ingested</h2>

<aside class="bcls-aside bcls-aside--information">The method explained in this document is for adding remote WebVTT files to your videos. You can also <a href="/node/17938">ingest WebVTT files</a> to Video Cloud using the Dynamic Ingest API.</aside>
</section>

<section class="section">
<h2 id="authorization">Authorization</h2>

<p class="BCL-aside">Requests to the CMS API require an authorization header which contain your access tokens. For details on how to obtain client credentials and use them to retrieve access tokens, see the <a href="/node/17928">Brightcove OAuth Overview</a>.</p>

<p>The operations you will need to update video metadata are <code>video-cloud/video/update</code> or <code>video-cloud/video/all</code>.</p>
</section>

<section class="section">
<h2 id="syntax">Syntax</h2>

<h3>Request</h3>

<pre class="line-numbers">
<code class="language-http">https://cms.api.brightcove.com/v1/accounts/{account_id}/videos/{video_ID}</code></pre>

<h3>Request body:</h3>

<p>The request body will be a JSON object containing an array of text tracks:</p>

<pre data-src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/cms-api/guides/webvtt/request-body.json" class="line-numbers">

&nbsp;</pre>
</section>

<section class="bcls-section">
<h2 id="replaceTracks">Replacing text tracks</h2>

<p>Replacing existing text tracks (either uploaded or remote) is a two-step process:</p>

<ol class="bcls-tasklist">
	<li>Remove the existing text tracks via a CMS API update (PATCH):
	<h4>API request (PATCH)</h4>

	<pre class="line-numbers">
<code class="language-http">https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code></pre>

	<h4>Request body</h4>

	<pre class="line-numbers">
<code class="language-json">{
    "text_tracks": []
}</code></pre>
	</li>
	<li>If you are adding remote text tracks, add them via another CMS API update (PATCH) (optional - if you are uploading text tracks, skip to the next step):
	<h4>API request (PATCH)</h4>

	<pre class="line-numbers">
<code class="language-http">https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code></pre>

	<h4>Request body</h4>

	<pre class="line-numbers">
<code class="language-json">{
    "text_tracks": [
        {
          "src": "https://learning-services-media.brightcove.com/vtt/sample.vtt",
          "srclang": "en",
          "label": "EN",
          "kind": "captions",
          "mime_type": "text/webvtt"
        },
        {
          "src": "https://learning-services-media.brightcove.com/vtt/sample-es.vtt",
          "srclang": "es",
          "label": "ES",
          "kind": "captions",
          "mime_type": "text/webvtt"
        }
    ]
}</code></pre>
	</li>
	<li>If you are uploading new text tracks instead, add them via a POST request to the Dynamic Ingest API:
	<h4>API request (POST)</h4>

	<pre class="line-numbers">
<code class="language-http">https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code>/ingest-requests</pre>

	<h4>Request body</h4>

	<pre class="line-numbers">
<code class="language-json">{
    "text_tracks": [
        {
            "url": "http://solutions.brightcove.com/bcls/assets/vtt/sample.vtt",
            "srclang": "en",
            "kind": "captions",
            "label": "EN",
            "default": true
        },
        {
            "url": "http://solutions.brightcove.com/bcls/assets/vtt/sample-ar.vtt",
            "srclang": "ar",
            "kind": "captions",
            "label": "AR",
            "default": false
        }
    ]
}</code></pre>
	</li>
	<li>Make a GET request to the CMS API to verify that your new text tracks are associated with the video:
	<pre class="line-numbers">
<code class="language-http">https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code></pre>
	</li>
</ol>
</section>
</article>
